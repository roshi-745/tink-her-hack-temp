<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Safar - Registration</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>

/* Background same as homepage */
body::before{
    content:"";
    position:fixed;
    width:100%;
    height:100%;
    background:url("Gemini_Generated_Image_bikbc2bikbc2bikb.png") center/cover no-repeat;
    filter:blur(4px) brightness(0.6);
    z-index:-1;
}

body{
    color:white;
    font-family:Arial;
}

/* Glass card */
.setup-card{
    background:rgba(0,0,0,0.6);
    backdrop-filter:blur(6px);
    border-radius:15px;
    padding:30px;
    margin-top:40px;
}

</style>
</head>

<body>

<div class="container">

<div class="setup-card col-md-6 mx-auto">

<h2 class="text-center mb-4">Safety Setup</h2>

<form id="setupForm">

<div class="mb-3">
<label>Full Name</label>
<input type="text" class="form-control" required>
</div>

<div class="mb-3">
<label>Phone Number</label>
<input type="tel" class="form-control" required>
</div>

<!-- Photo Upload -->
<div class="mb-3">
<label>Upload Photo</label>
<input type="file" class="form-control" accept="image/*" required>
<img id="preview"
style="width:100px;margin-top:10px;border-radius:10px;display:none;">
</div>

<hr>

<h5>Emergency Contact Details</h5>

<div class="mb-3">
<label>Contact Name</label>
<input type="text" class="form-control" required>
</div>

<div class="mb-3">
<label>Relationship</label>
<input type="text"
class="form-control"
placeholder="Parent / Friend / Partner"
required>
</div>

<div class="mb-3">
<label>Emergency Contact Number</label>
<input type="tel" class="form-control" required>
</div>

<hr>

<h5>Permissions Required</h5>

<div class="form-check">
<input class="form-check-input" type="checkbox" id="location">
<label class="form-check-label">
Enable Location Access
</label>
</div>

<div class="form-check">
<input class="form-check-input" type="checkbox" id="notification">
<label class="form-check-label">
Enable Notifications
</label>
</div>

<button type="button"
class="btn btn-success w-100 mt-4"
onclick="validateSetup()">
Continue
</button>

</form>
</div>
</div>

<script>

document.querySelector("input[type=file]").addEventListener("change",function(e){
    let file = e.target.files[0];
    if(file){
        let reader = new FileReader();
        reader.onload=function(event){
            let img=document.getElementById("preview");
            img.src=event.target.result;
            img.style.display="block";
        }
        reader.readAsDataURL(file);
    }
});

function validateSetup(){

let loc = document.getElementById("location").checked;
let notif = document.getElementById("notification").checked;

localStorage.setItem("contactName",
document.querySelectorAll("input")[2].value);

localStorage.setItem("contactNumber",
document.querySelectorAll("input")[4].value);

localStorage.setItem("userName",
document.querySelectorAll("input")[0].value);
if(!loc || !notif){
    alert("Please enable all permissions.");
    return;
}

alert("Safety Setup Complete âœ…");
window.location.href="journey.html";
}

</script>
</body>
</html>